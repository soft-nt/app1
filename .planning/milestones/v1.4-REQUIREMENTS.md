# Requirements Archive: v1.4 City Configuration

**Archived:** 2026-01-31
**Status:** ✅ SHIPPED

This is the archived requirements specification for v1.4.
For current requirements, see `.planning/REQUIREMENTS.md` (will be created for next milestone).

---

# Requirements: Date Display App

**Defined:** 2026-01-31
**Core Value:** A working React app that successfully demonstrates the GSD workflow from initialization through execution, with clean architecture that makes adding features straightforward

## v1.4 Requirements

Requirements for city configuration feature. Each maps to roadmap phases.

### Settings Interface

- [x] **SETT-01**: Settings icon (gear) displays in header
- [x] **SETT-02**: Settings icon opens modal/panel on click
- [x] **SETT-03**: Settings modal displays with backdrop overlay
- [x] **SETT-04**: Modal closes via X button
- [x] **SETT-05**: Modal closes when clicking backdrop overlay
- [x] **SETT-06**: Settings modal styling consistent with app design

### City Selection

- [x] **CITY-01**: Dropdown displays list of 20+ preset cities
- [x] **CITY-02**: Search/filter input allows typing to filter city list
- [x] **CITY-03**: Filtered results update as user types
- [x] **CITY-04**: Currently selected city shows visual indicator (checkmark/highlight)
- [x] **CITY-05**: Clicking a city selects it and updates weather
- [x] **CITY-06**: City list includes major global cities across timezones

### Data Persistence

- [x] **STORE-01**: Selected city saves to localStorage
- [x] **STORE-02**: App loads saved city on page reload
- [x] **STORE-03**: App defaults to Geneva if no saved selection exists
- [x] **STORE-04**: City selection persists across browser sessions

### Weather Integration

- [x] **INTEG-01**: Weather widget fetches data for currently selected city
- [x] **INTEG-02**: Geocoding service converts city name to coordinates *(Note: Addressed via preset city list with hardcoded coordinates, avoiding geocoding API)*
- [x] **INTEG-03**: Weather data updates when city selection changes
- [x] **INTEG-04**: Loading state displays during city switch fetch
- [x] **INTEG-05**: Error message displays if geocoding fails *(N/A: No geocoding used, cities have preset coordinates)*
- [x] **INTEG-06**: Error message displays if weather fetch fails for new city
- [x] **INTEG-07**: Weather widget shows city name of current selection

### Location Display

- [x] **MAP-01**: Map indicator displays in settings modal
- [x] **MAP-02**: Map shows location of selected city
- [x] **MAP-03**: Map visual integrates cleanly with settings UI

## v2 Requirements

Deferred to future release. Tracked but not in current roadmap.

### Enhanced Settings
- **SETT-07**: Settings organized into tabs/sections for future features
- **SETT-08**: Settings panel remembers collapsed/expanded state

### Extended City Features
- **CITY-07**: City list grouped by continent or region
- **CITY-08**: User can add custom cities beyond preset list
- **CITY-09**: Recent cities appear at top of dropdown

### Enhanced Display
- **DISP-07**: Timezone display shows UTC offset for selected city
- **DISP-08**: Local time displays for selected city
- **DISP-09**: Coordinates (lat/lng) display for selected city
- **DISP-10**: Country/region label displays with city name

### Settings Management
- **STORE-05**: Reset button clears saved preferences
- **STORE-06**: Export/import settings as JSON

## Out of Scope

Explicitly excluded. Documented to prevent scope creep.

| Feature | Reason |
|---------|--------|
| Multiple simultaneous cities | Single city focus keeps UI simple and API usage minimal |
| Auto-detect location via browser geolocation | Privacy concerns, adds complexity, preset list sufficient |
| Weather comparison between cities | Out of scope for settings feature, defer to v2+ |
| Historical weather data | Not part of configuration feature scope |
| Weather alerts/notifications | Separate feature domain, defer to future |
| Unit toggle (°C ↔ °F) in settings | Can add later if international users identified |

## Traceability

Which phases cover which requirements. Updated during execution.

| Requirement | Phase | Status |
|-------------|-------|--------|
| SETT-01 | Phase 8 | Complete |
| SETT-02 | Phase 8 | Complete |
| SETT-03 | Phase 8 | Complete |
| SETT-04 | Phase 8 | Complete |
| SETT-05 | Phase 8 | Complete |
| SETT-06 | Phase 8 | Complete |
| CITY-01 | Phase 8 | Complete |
| CITY-02 | Phase 8 | Complete |
| CITY-03 | Phase 8 | Complete |
| CITY-04 | Phase 8 | Complete |
| CITY-05 | Phase 8 | Complete |
| CITY-06 | Phase 8 | Complete |
| STORE-01 | Phase 8 | Complete |
| STORE-02 | Phase 8 | Complete |
| STORE-03 | Phase 8 | Complete |
| STORE-04 | Phase 8 | Complete |
| INTEG-01 | Phase 8 | Complete |
| INTEG-02 | Phase 8 | Complete |
| INTEG-03 | Phase 8 | Complete |
| INTEG-04 | Phase 8 | Complete |
| INTEG-05 | Phase 8 | Complete |
| INTEG-06 | Phase 8 | Complete |
| INTEG-07 | Phase 8 | Complete |
| MAP-01 | Phase 8 | Complete |
| MAP-02 | Phase 8 | Complete |
| MAP-03 | Phase 8 | Complete |

**Coverage:**
- v1.4 requirements: 26 total
- Mapped to phases: 26/26 (100%)
- Unmapped: 0
- Shipped: 26/26 (100%)

---

## Milestone Summary

**Shipped:** 26 of 26 v1.4 requirements (100%)

**Adjusted:**
- INTEG-02 (Geocoding service): Addressed differently than originally specified - used preset city list with hardcoded coordinates instead of geocoding API, eliminating external service dependency and potential failure points

**Dropped:** None - all requirements shipped

**Technical Approach Changes:**
- Originally planned timezone display and city coordinates - deferred to v2 to keep v1.4 focused on core city selection functionality

---
*Archived: 2026-01-31 as part of v1.4 milestone completion*
