---
phase: 04-interactive-color-change
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/App.tsx
  - src/components/DateDisplay.tsx
  - src/components/Button.tsx
autonomous: true

must_haves:
  truths:
    - "Button click triggers a color change"
    - "Date text displays in the randomly generated color"
    - "Each click produces a different random color"
  artifacts:
    - path: "src/App.tsx"
      provides: "Color state management and handler"
      contains: "useState"
      pattern: "generateRandomColor|handleColorChange"
    - path: "src/components/DateDisplay.tsx"
      provides: "Color-aware date display"
      pattern: "color.*string|style.*color"
    - path: "src/components/Button.tsx"
      provides: "Click handler wiring"
      pattern: "onClick.*void|onClick={onClick}"
  key_links:
    - from: "src/components/Button.tsx"
      to: "src/App.tsx"
      via: "onClick prop"
      pattern: "onClick={handleColorChange}"
    - from: "src/App.tsx"
      to: "src/components/DateDisplay.tsx"
      via: "color prop"
      pattern: "color={color}"
    - from: "src/components/DateDisplay.tsx"
      to: "style attribute"
      via: "inline style"
      pattern: "style=.*color"
---

<objective>
Wire button click to date color change using React state management.

Purpose: Complete v1.1 milestone by adding interactive functionality that changes date color on button click.
Output: Working feature where clicking the button generates a random color and applies it to the date display.
</objective>

<execution_context>
@/home/ntorrent/.claude/get-shit-done/workflows/execute-plan.md
@/home/ntorrent/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-interactive-color-change/04-RESEARCH.md
@src/App.tsx
@src/components/DateDisplay.tsx
@src/components/Button.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add color state and generation to App</name>
  <files>src/App.tsx</files>
  <action>
    Add color state management to App.tsx:

    1. Import useState from 'react'
    2. Add generateRandomColor function that:
       - Generates RGB values using Math.floor(Math.random() * 256) for each channel
       - Converts to hex using .toString(16).padStart(2, '0')
       - Returns string in format '#RRGGBB'
    3. Add useState hook: const [color, setColor] = useState('#000000')
    4. Add handleColorChange function that calls setColor(generateRandomColor())
    5. Pass color prop to DateDisplay: <DateDisplay color={color} />
    6. Pass onClick prop to Button: <Button onClick={handleColorChange} />

    Follow pattern from 04-RESEARCH.md. Use '#000000' as initial color (black text).
  </action>
  <verify>npm run build passes with no TypeScript errors</verify>
  <done>App.tsx contains useState, generateRandomColor, handleColorChange, and passes props to child components</done>
</task>

<task type="auto">
  <name>Task 2: Update components to accept and use props</name>
  <files>src/components/DateDisplay.tsx, src/components/Button.tsx</files>
  <action>
    Update DateDisplay.tsx:
    1. Define type: type DateDisplayProps = { color: string; }
    2. Accept props: function DateDisplay({ color }: DateDisplayProps)
    3. Add inline style to the div: style={{ color }}
    4. Keep existing className="date-display" for layout styling

    Update Button.tsx:
    1. Define type: type ButtonProps = { onClick: () => void; }
    2. Accept props: function Button({ onClick }: ButtonProps)
    3. Add onClick to button element: <button className="button" onClick={onClick}>
    4. Keep "Click me" text

    Both components follow the controlled component pattern from research.
    TypeScript types ensure compile-time safety.
  </action>
  <verify>npm run build && npm run lint pass with no errors</verify>
  <done>DateDisplay accepts color prop and applies it via style. Button accepts onClick prop and wires it to button element.</done>
</task>

</tasks>

<verification>
After both tasks complete:

1. Build verification: `npm run build` passes
2. Lint verification: `npm run lint` passes
3. Functional verification: `npm run dev` then:
   - Page loads with date in black text (#000000)
   - Click button - date color changes to a random color
   - Click again - date color changes to a different random color
   - Button is responsive (no delay, immediate color change)
</verification>

<success_criteria>
Requirements fulfilled:
- INT-01: Button responds to click events (onClick handler wired)
- INT-02: Random color is generated on each click (generateRandomColor called)
- INT-03: Date text color updates to the random color (color prop applied via style)

Phase success criteria from roadmap:
1. Button responds visibly to click events - VERIFIED by color change
2. Date text color changes when button is clicked - VERIFIED by style update
3. Each click produces a different random color - VERIFIED by Math.random() in generator
</success_criteria>

<output>
After completion, create `.planning/phases/04-interactive-color-change/04-01-SUMMARY.md`
</output>
